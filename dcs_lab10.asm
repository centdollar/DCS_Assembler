.dir

.equ starter_array_addr 0x2000
.equ lower_sorted_addr 0x2100
.equ upper_sorted_addr 0x2200
.equ decimal_sorted_addr 0x2300
.equ manipulated_array 0x2400

.equ lower_start_addr 0x2001
.equ upper_start_addr 0x2000
.equ decimal_start_addr 0x2002 

.equ iterate_amount 4

.enddir


.constants

// starting values for upper,lower,decimal vectors
// ex: [1000001, 1000010] = ['A','B']
.word AB 0x2000 10000011000010
.word ab 0x2001 11000011100010
.word _01 0x2002 01100000110001
.word _,space1 0x2003 01011000100000

.word CD 0x2004 10000111000100
.word cd 0x2005 11000111100100
.word _23 0x2006 01100100110011
.word _,space2 0x2007 01011000100000

.word EF 0x2008 10001011000110
.word ef 0x2009 11001011100110
.word _45 0x200A 01101000110101
.word _,space3 0x200B 01011000100000

.word GH 0x200C 10001111001000
.word gh 0x200D 11001111101000
.word _67 0x200E 01101100110111
.word _,space4x 0x200F 01011000100000

.word IJ 0x2010 10010011001010
.word ij 0x2011 11010011101010
.word _89 0x2012 01110000111001
.word _,space5 0x2013 01011000100000

.word KL 0x2014 10010111001100
.word kl 0x2015 11010111101100
.word _001 0x2016 01100000110000
.word _,space6 0x2017 01011000100000

.word MN 0x2018 10011011001110
.word mn 0x2019 11011011101110
.word _002 0x201A 01100000110000
.word _,space7 0x201B 01011000100000

.word OP 0x201C 10011111010000
.word op 0x201D 11011111110000
.word _003 0x201E 01100000110000
.word _,space8 0x201F 01011000100000

.word QR 0x2020 10100011010010
.word qr 0x2021 11100011110010
.word _004 0x2022 01100000110000
.word _,space9 0x2023 01011000100000

.word ST 0x2024 10100111010100
.word st5 0x2025 11100111110100
.word _005 0x2026 01100000110000
.word _,space10 0x2027 01011000100000

.word UV 0x2028 10101011010110
.word uv 0x2029 11101011110110
.word _006 0x202A 01100000110000
.word _,space11 0x202B 01011000100000

.word WX 0x202C 10101111011000
.word wx 0x202D 11101111111000
.word _007 0x202E 01100000110000
.word _,space12 0x202F 01011000100000

.word YZ 0x2030 10110011011010
.word yz 0x2031 11110011111010
.word _008 0x2032 01100000110000
.word _,space13 0x2033 01011000100000

.word AB1 0x2034 10000011000010
.word ab1 0x2035 11000011100010
.word _019 0x2036 01100000110001
.word _,space14 0x2037 01011000100000

.word CD1 0x2038 10000111000100
.word cd1 0x2039 11000111100100
.word _2310 0x203A 01100100110011
.word _,space15 0x203B 01011000100000

.word EF1 0x203C 10001011000110
.word ef1 0x203D 11001011100110
.word _4511 0x203E 01101000110101
.word _,space16 0x203F 01011000100000

.word GH1 0x2040 10001111001000
.word gh1 0x2041 11001111101000
.word _6712 0x2042 01101100110111
.word _,space17 0x2043 01011000100000

.word IJ1 0x2044 10010011001010
.word ij1 0x2045 11010011101010
.word _8913 0x2046 01110000111001
.word _,space18 0x2047 01011000100000

.word KL1 0x2048 10010111001100
.word kl1 0x2049 11010111101100
.word _0014 0x204A 01100000110000
.word _,space19 0x204B 01011000100000

.word MN1 0x204C 10011011001110
.word mn1 0x204D 11011011101110
.word _0015 0x204E 01100000110000
.word _,space20 0x204F 01011000100000

.word OP1 0x2050 10011111010000
.word op1 0x2051 11011111110000
.word _0016 0x2052 01100000110000
.word _,space21 0x2053 01011000100000

.word QR1 0x2054 10100011010010
.word qr1 0x2055 11100011110010
.word _0017 0x2056 01100000110000
.word _,space22 0x2057 01011000100000

.word ST1 0x2058 10100111010100
.word st1 0x2059 11100111110100
.word _0018 0x205A 01100000110000
.word _,space23 0x205B 01011000100000

.word UV1 0x205C 10101011010110
.word uv1 0x205D 11101011110110
.word _0019 0x205E 01100000110000
.word _,space24 0x205F 01011000100000

.word WX1 0x2060 10101111011000
.word wx1 0x2061 11101111111000
.word _0020 0x2062 01100000110000
.word _,space25 0x2063 01011000100000

.word YZ1 0x2064 10110011011010
.word yz1 0x2065 11110011111010
.word _0021 0x2066 01100000110000
.word _,space26 0x2067 01011000100000

.word AB2 0x2068 10000011000010
.word ab2 0x2069 11000011100010
.word _0122 0x206A 01100000110001
.word _,space27 0x206B 01011000100000

.word CD2 0x206C 10000111000100
.word cd2 0x206D 11000111100100
.word _2323 0x206E 01100100110011
.word _,space28 0x206F 01011000100000

.word EF2 0x2070 10001011000110
.word ef2 0x2071 11001011100110
.word _4524 0x2072 01101000110101
.word _,space29 0x2073 01011000100000

.word GH2 0x2074 10001111001000
.word gh2 0x2075 11001111101000
.word _6725 0x2076 01101100110111
.word _,space30 0x2077 01011000100000

.word IJ2 0x2078 10010011001010
.word ij2 0x2079 11010011101010
.word _8926 0x207A 01110000111001
.word _,space31 0x207B 01011000100000

.word KL2 0x207C 10010111001100
.word kl2 0x207D 11010111101100
.word _0027 0x207E 01100000110000
.word _,space32 0x207F 01011000100000

.word MN2 0x2080 10011011001110
.word mn2 0x2081 11011011101110
.word _0028 0x2082 01100000110000
.word _,space33 0x2083 01011000100000

.word OP2 0x2084 10011111010000
.word op2 0x2085 11011111110000
.word _0029 0x2086 01100000110000
.word _,space34 0x2087 01011000100000

.word QR2 0x2088 10100011010010
.word qr2 0x2089 11100011110010
.word _0030 0x208A 01100000110000
.word _,space35 0x208B 01011000100000

.word ST2 0x208C 10100111010100
.word st2 0x208D 11100111110100
.word _0031 0x208E 01100000110000
.word _,space36 0x208F 01011000100000

.word UV2 0x2090 10101011010110
.word uv2 0x2091 11101011110110
.word _0032 0x2092 01100000110000
.word _,space37 0x2093 01011000100000

.word WX2 0x2094 10101111011000
.word wx2 0x2095 11101111111000
.word _0033 0x2096 01100000110000
.word _,space38 0x2097 01011000100000

.word YZ2 0x2098 10110011011010
.word yz2 0x2099 11110011111010
.word _0034 0x209A 01100000110000
.word _,space39 0x209B 01011000100000

.word AB3 0x209C 10000011000010
.word ab3 0x209D 11000011100010
.word _0135 0x209E 01100000110001
.word _,space40 0x209F 01011000100000

.word CD3 0x20A0 10000111000100
.word cd3 0x20A1 11000111100100
.word _2336 0x20A2 01100100110011
.word _,space41 0x20A3 01011000100000

.word EF3 0x20A4 10001011000110
.word ef3 0x20A5 11001011100110
.word _4537 0x20A6 01101000110101
.word _,space42 0x20A7 01011000100000

.word GH3 0x20A8 10001111001000
.word gh3 0x20A9 11001111101000
.word _6738 0x20AA 01101100110111
.word _,space43 0x20AB 01011000100000

.word IJ3 0x20AC 10010011001010
.word ij3 0x20AD 11010011101010
.word _8939 0x20AE 01110000111001
.word _,space44 0x20AF 01011000100000

.word KL3 0x20B0 10010111001100
.word kl3 0x20B1 11010111101100
.word _0040 0x20B2 01100000110000
.word _,space45 0x20B3 01011000100000

.word MN3 0x20B4 10011011001110
.word mn3 0x20B5 11011011101110
.word _0041 0x20B6 01100000110000
.word _,space46 0x20B7 01011000100000

.word OP3 0x20B8 10011111010000
.word op3 0x20B9 11011111110000
.word _0042 0x20BA 01100000110000
.word _,space47 0x20BB 01011000100000

.word QR3 0x20BC 10100011010010
.word qr3 0x20BD 11100011110010
.word _0043 0x20BE 01100000110000
.word _,space48 0x20BF 01011000100000

.word ST3 0x20C0 10100111010100
.word st3 0x20C1 11100111110100
.word _0044 0x20C2 01100000110000
.word _,space49 0x20C3 01011000100000

.word UV3 0x20C4 10101011010110
.word uv3 0x20C5 11101011110110
.word _0045 0x20C6 01100000110000
.word _,space50 0x20C7 01011000100000

.word WX3 0x20C8 10101111011000
.word wx3 0x20C9 11101111111000
.word _0046 0x20CA 01100000110000
.word _,space51 0x20CB 01011000100000

.word YZ3 0x20CC 10110011011010
.word yz3 0x20CD 11110011111010
.word _0047 0x20CE 01100000110000
.word _,space52 0x20CF 01011000100000

.word AB4 0x20D0 10000011000010
.word ab4 0x20D1 11000011100010
.word _0148 0x20D2 01100000110001
.word _,space53 0x20D3 01011000100000

.word CD4 0x20D4 10000111000100
.word cd4 0x20D5 11000111100100
.word _2349 0x20D6 01100100110011
.word _,space54 0x20D7 01011000100000

.word EF4 0x20D8 10001011000110
.word ef4 0x20D9 11001011100110
.word _4550 0x20DA 01101000110101
.word _,space55 0x20DB 01011000100000

.word GH4 0x20DC 10001111001000
.word gh4 0x20DD 11001111101000
.word _6751 0x20DE 01101100110111
.word _,space56 0x20DF 01011000100000

.word IJ4 0x20E0 10010011001010
.word ij4 0x20E1 11010011101010
.word _8952 0x20E2 01110000111001
.word _,space57 0x20E3 01011000100000

.word KL4 0x20E4 10010111001100
.word kl4 0x20E5 11010111101100
.word _0053 0x20E6 01100000110000
.word _,space58 0x20E7 01011000100000

.word MN4 0x20E8 10011011001110
.word mn4 0x20E9 11011011101110
.word _0054 0x20EA 01100000110000
.word _,space59 0x20EB 01011000100000

.word OP4 0x20EC 10011111010000
.word op4 0x20ED 11011111110000
.word _0055 0x20EE 01100000110000
.word _,space60 0x20EF 01011000100000

.word QR4 0x20F0 10100011010010
.word qr4 0x20F1 11100011110010
.word _0056 0x20F2 01100000110000
.word _,space61 0x20F3 01011000100000

.word ST4 0x20F4 10100111010100
.word st4 0x20F5 11100111110100
.word _0057 0x20F6 01100000110000
.word _,space62 0x20F7 01011000100000

.word UV4 0x20F8 10101011010110
.word uv4 0x20F9 11101011110110
.word _0058 0x20FA 01100000110000
.word _,space63 0x20FB 01011000100000

.word WX4 0x20FC 10101111011000
.word wx4 0x20FD 11101111111000
.word _0059 0x20FE 01100000110000
.word _,space64 0x20FF 01011000100000



.endconstants

.code
sub r3 r3
sub r4 r4
sub r5 r5
sub r6 r6


sub r15 r15



// ----------------------------------------------------------------
// PART 1

// SECTION 0 Sorted array for lower case
// creates array with the lowercase chars starting at address ox2100
ld r0 r5 m[lower_start_addr]
@LowerCase addc r15 #0
st r3 r5 m[lower_sorted_addr]
vaddc r5 #2
addc r3 #1
cmp r3 #13
jz0 r1 @LowerCase

addc r15 #0
sub r3 r3
sub r4 r4
sub r4 r4
sub r5 r5
addc r15 #1
out r15 r0



// SECTION 1 Sorted array for upper case
// creates array with the lowercase chars starting at address 0x2200
ld r0 r5 m[upper_start_addr]
@UpperCase addc r15 #0
st r3 r5 m[upper_sorted_addr]
vaddc r5 #2
addc r3 #1
cmp r3 #13
jz0 r1 @UpperCase

addc r15 #0
sub r3 r3
sub r4 r4
sub r5 r5
addc r15 #1
out r15 r0


// SECTION 2 Sorted array for decimal chars
// creates array with the decimal chars starting at address 0x2300
ld r0 r5 m[decimal_start_addr]
@Decimal addc r15 #0
st r3 r5 m[decimal_sorted_addr]
vaddc r5 #2
addc r3 #1
cmp r3 #5
jz0 r1 @Decimal

addc r15 #0
sub r3 r3
sub r4 r4
sub r5 r5
addc r15 #1
out r15 r0

// END PART 1
// ----------------------------------------------

// ----------------------------------------------
// START PART 2

// Loop through 64 times

addc r15 #0
// r3 holds the counter
addc r3 #8
rotl r3 #3
sub r6 r6
addc r6 #8
rotl r6 #2
sub r7 r7
addc r7 #12
rotl r7 #2
sub r4 r4

@Part2 addc r15 #0
ld r4 r5 m[starter_array_addr]
vadd r5 r6
st r4 r5 m[manipulated_array]
addc r4 #1

ld r4 r5 m[starter_array_addr]
vsub r5 r6
st r4 r5 m[manipulated_array]
addc r4 #1

ld r4 r5 m[starter_array_addr]
vsub r5 r7
st r4 r5 m[manipulated_array]
addc r4 #1

ld r4 r5 m[starter_array_addr]
addc r15 #0
st r4 r5 m[manipulated_array]
addc r4 #1
subc r3 #1
jz0 r1 @Part2

addc r15 #0
sub r3 r3
sub r4 r4
sub r5 r5
addc r15 #1
out r15 r0







// END PART 2

.endcode 